## Overview 

This project provides a comprehensive solution for parsing and repairing malformed JSON data commonly generated by Small Large Language Models (LLMs). It offers multiple layers of JSON fixing capabilities and schema-based data coercion.

### Key Functionalities

1. **JSON Parsing and Repair**
   - Tries multiple JSON parsing libraries including standard `json`, `pyjson5`, `tolerantjson`, and `demjson3`
   - Implements a step-by-step repair pipeline that addresses common LLM JSON output issues
   - Handles various malformed JSON patterns through specialized repair functions

2. **Common JSON Fixing Operations**
   - Removes markdown code block wrappers and smart quotes
   - Converts Python literals (True/False/None) to JSON equivalents
   - Fixes trailing commas and adds missing commas
   - Converts single quotes to double quotes for proper JSON formatting
   - Handles unquoted keys and escapes unescaped newlines
   - Repairs unbalanced braces and brackets
   - Processes NaN and Infinity values

3. **Advanced Parsing Features**
   - Extracts JSON blocks from mixed content text
   - Truncates text to find the last valid JSON segment
   - Normalizes parsed data to handle special float values (NaN/Infinity)

4. **Schema-Based Data Coercion**
   - [coerce_to_schema()](file://llm_json_fixer.py#L234-L267) function validates and converts parsed data according to a JSON schema
   - Supports basic types: string, integer, number, boolean, array, and object
   - Handles type conversion between compatible types
   - Manages required properties and default values
   - Supports additional properties control

5. **Error Handling and Debugging**
   - Tracks repair attempts for debugging purposes
   - Provides detailed information about which repair steps were applied
   - Gracefully handles parsing failures with meaningful error messages

The module is particularly useful for applications that consume LLM-generated JSON responses, which often contain syntax errors or formatting issues that prevent direct parsing.

## todo
1. Add support for more JSON parsing libraries
2. Add support for more JSON schema types
3. Add support for more JSON schema validation rules
4. Make the module more robust and reliable
5. Add more tests on the small LLMs output